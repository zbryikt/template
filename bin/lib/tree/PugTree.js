// Generated by LiveScript 1.6.0
var DocTree, pug, path, pugbuild, pugtree;
DocTree = require('./DocTree');
pug = require('pug');
path = require('path');
pugbuild = require("../build/pug");
pugtree = new DocTree({
  parser: function(c, f){
    /* use pug dependencies tracking */
    /*
    cwd = path.resolve process.cwd!
    ret2 = pug.compileClientWithDependenciesTracked(
      c,
      {basedir: path.join(cwd,path.dirname f), filename: f} <<< pugbuild.extapi
    )
    return ret2.dependencies.map(-> it.replace cwd, '../..')
    */
    /* old, manual approach */
    var ret;
    return ret = c.split('\n').map(function(it){
      return /\s*(extend|include)\s+(.+)$/.exec(it);
    }).filter(function(it){
      return it;
    }).map(function(it){
      return it[2];
    });
  }
});
module.exports = pugtree;